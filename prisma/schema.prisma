// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Flight {
  id_flight         Int      @id @default(autoincrement())
  number            String   @unique
  airport_departure          Airport @relation(name: "departure",  fields: [id_departure], references: [id_airport])
  airport_destination        Airport @relation(name: "destination", fields: [id_destination], references: [id_airport])
  id_departure      Int      
  id_destination    Int
  date_departure    DateTime
  date_arrival      DateTime
  price             Float
  booking          Booking[]
}

model Airport {
  id_airport Int @id @default(autoincrement())
  country Country @relation(fields: [id_country], references: [id_country])
  city City @relation(fields: [id_city], references: [id_city])
  id_country Int
  id_city    Int 
  name      String 
  Flight_departure    Flight[] @relation(name: "departure")
  Flight_destination  Flight[] @relation(name: "destination")
  
}

model Country {
  id_country Int @id @default(autoincrement())
  name       String
  Airport    Airport[]
  City      City[]
}
model City {
  id_city    Int @id @default(autoincrement())
  country Country @relation(fields: [id_country], references: [id_country])
  id_country Int
  name       String
  Airport    Airport[]
}

model Booking {
  id_booking Int @id @default(autoincrement())
  customer Customer @relation(fields: [id_customer], references: [id_customer])
  flight Flight @relation(fields: [id_flight], references: [id_flight])
  date_booking DateTime
  id_customer Int 
  id_flight Int
  people Int
  price Float
}
model Customer {
  id_customer Int @id @default(autoincrement())
  name String
  lastname String
  booking Booking[]
  
}